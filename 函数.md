# 函数
函数是Solidity中定义的代码块，可以用来接收和返回值。

以下是一些Solidity函数的示例：

```solidity
// 声明一个名为 myFunction 的函数，这个函数不接收任何参数，也不返回任何值
function myFunction() {}

// 声明一个名为 myOtherFunction 的函数，接收一个名为 myVariable 的 uint 参数，并返回一个名为 myResult 的 uint
function myOtherFunction(uint256 myVariable) returns (uint256 myResult) {}

// 声明一个名为 myThirdFunction 的函数，接收两个名为 myFirstVariable 和 mySecondVariable 的 uint 参数，并不返回任何值
function myThirdFunction(uint256 myFirstVariable, uint256 mySecondVariable) {}
```

函数可以有以下类型的参数和返回值：

- `bool`：布尔值（true或false）
- `string`：字符串
- `int`：有符号整数
- `uint`：无符号整数
- `address`：以太坊地址
- `bytes`：字节数组

以下是一个接受和返回整数的函数示例：

```solidity
function calculate(uint256 x) public pure returns (uint256) {
    return x * 2;
}
```

函数可以指定访问修饰符（`public`，`private`，`internal`和`external`），这将影响谁可以调用该函数。

以下示例函数具有四种不同的访问修饰符：

```solidity
// Public 函数可以由任何人调用（包括其他智能合约）
function myPublicFunction() public {}

// Private 函数只能从同一合约中的函数调用
function myPrivateFunction() private {}

// Internal 函数只能从同一合约或从与该合约继承关系的合约中的函数调用
function myInternalFunction() internal {}

// External 函数只能从外部（即其他智能合约或以太坊交易）调用
function myExternalFunction() external {}
```

对于接受结构体或数组等复杂类型的函数，可以使用`memory`或`storage`关键字来确定参数或返回值的类型存储位置。 

以下是一个使用`memory`关键字进行数组计算的示例：

```solidity
pragma solidity ^0.8.0;

contract MyContract {
    function calculate(uint[] calldata numbers) public pure returns (uint) {
        uint sum = 0;
        for (uint i = 0; i < numbers.length; i++) {
            sum += numbers[i];
        }
        return sum;
    }
}
```

最后，注意当函数接收以太坊发送的资金时，必须使用`payable`关键字，并且可以指定函数触发的事件。

以下是一个接受资金和触发事件的函数示例：

```solidity
pragma solidity ^0.8.0;

contract MyContract {
    event PaymentReceived(address from, uint amount);

    function receivePayment() external payable {
        emit PaymentReceived(msg.sender, msg.value);
    }
}
```
